webpackJsonp([0],{Gg0d:function(e,t,i){"use strict";var n={components:{},name:"rich-editor-formatting-helper",computed:{controlsStyle:function(){var e={};return this.isLinkInputActive?(e["pointer-events"]="none",e.opacity="0"):(e["pointer-events"]="auto",e.opacity="1"),e},linkInputStyle:function(){var e={};return this.isLinkInputActive?(e["pointer-events"]="auto",e.opacity="1"):(e["pointer-events"]="none",e.opacity="0"),e}},data:function(){return{link:"",linkSelectionRange:null,isLinkInputActive:!1,helperStyle:{top:"0",left:"0"}}},methods:{adjustHelper:function(){if("none"!==window.getSelection().type)if(null!==window.getSelection().anchorNode){if(null===window.getSelection().anchorNode.parentNode.closest(".rich-editor-formatting-helper")&&null!==window.getSelection().anchorNode.parentNode.closest(".rich-editor")){var e=window.getSelection().getRangeAt(0).getBoundingClientRect();if(0===e.x&&(e=window.getSelection().anchorNode.getBoundingClientRect()),this.checkMobile()&&null===window.getSelection().anchorNode.parentNode.closest(".rich-editor-formatting-helper")){var t=window.pageXOffset+e.x,i=this.$refs.helper.offsetWidth;t+i+16>window.innerWidth&&(t=window.innerWidth-i-16),this.helperStyle={left:t+"px",top:window.pageYOffset+e.y+"px"}}else this.hide()}}else this.hide();else this.hide()},cancelLinkInput:function(){this.isLinkInputActive=!1,this.link=""},checkMobile:function(){return"Range"===window.getSelection().type||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)},format:function(e){this.getType()!==e?document.execCommand("formatBlock",!1,e):document.execCommand("formatBlock",!1,"p")},hide:function(){this.helperStyle={opacity:0,left:this.helperStyle.left,top:this.helperStyle.top,visibility:"hidden",transition:"visibility 0s 0.3s, opacity 0.3s"},this.cancelLinkInput()},getType:function(){return"Range"===window.getSelection().type&&null!==window.getSelection().anchorNode.parentNode.closest(".rich-editor")?window.getSelection().anchorNode.parentElement.tagName.toLowerCase():null},setBold:function(){document.execCommand("bold",!1)},setItalics:function(){document.execCommand("italic",!1)},setH1:function(){this.format("h1")},setH2:function(){this.format("h2")},setH3:function(){this.format("h3")},setQuote:function(){this.format("blockquote")},setHyperlink:function(e){13===e.keyCode&&(window.getSelection().removeAllRanges(),window.getSelection().addRange(this.linkSelectionRange),document.execCommand("createLink",!1,this.link),window.getSelection().removeAllRanges(),this.hide())},startLinkInput:function(){this.isLinkInputActive=!0,this.linkSelectionRange=window.getSelection().getRangeAt(0)}},mounted:function(){setInterval(this.adjustHelper,10)}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"helper",staticClass:"rich-editor-formatting-helper",style:e.helperStyle},[n("div",{staticClass:"rich-editor-formatting-helper--controls",style:e.controlsStyle},[n("span",{staticClass:"rich-editor-formatting-helper--h1",class:{"rich-editor-formatting-helper--active":"h1"===e.getType()},on:{click:e.setH1}},[e._v("\n      H\n    ")]),e._v(" "),n("span",{staticClass:"rich-editor-formatting-helper--h2",class:{"rich-editor-formatting-helper--active":"h2"===e.getType()},on:{click:e.setH2}},[e._v("\n      H\n    ")]),e._v(" "),n("span",{staticClass:"rich-editor-formatting-helper--h3",class:{"rich-editor-formatting-helper--active":"h3"===e.getType()},on:{click:e.setH3}},[e._v("\n      H\n    ")]),e._v(" "),n("span",{staticClass:"rich-editor-formatting-helper--b",class:{"rich-editor-formatting-helper--active":"b"===e.getType()},on:{click:e.setBold}},[e._v("\n      b\n    ")]),e._v(" "),n("span",{staticClass:"rich-editor-formatting-helper--i",class:{"rich-editor-formatting-helper--active":"i"===e.getType()},on:{click:e.setItalics}},[e._v("\n      i\n    ")]),e._v(" "),n("span",{staticClass:"rich-editor-formatting-helper--quote",class:{"rich-editor-formatting-helper--active":"blockquote"===e.getType()},on:{click:e.setQuote}},[e._v('\n      "\n    ')]),e._v(" "),n("span",{staticClass:"rich-editor-formatting-helper--hyperlink",on:{click:e.startLinkInput}},[n("img",{attrs:{src:i("KLAE")}})])]),e._v(" "),n("div",{staticClass:"rich-editor-formatting-helper--link-input",style:e.linkInputStyle},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.link,expression:"link"}],attrs:{placeholder:"Paste link here..."},domProps:{value:e.link},on:{keypress:e.setHyperlink,input:function(t){t.target.composing||(e.link=t.target.value)}}}),e._v(" "),n("span",{on:{click:e.cancelLinkInput}},[e._v("\n      âœ–\n    ")])])])},staticRenderFns:[]};var r={components:{RichEditorFormattingHelper:i("VU/8")(n,o,!1,function(e){i("oFhI")},"data-v-12dd1038",null).exports},name:"rich-editor",data:function(){return{}},methods:{onInput:function(e){this.$emit("input",e.target.innerHTML)},onKeypress:function(e){13===e.keyCode&&("DIV"===window.getSelection().anchorNode.parentNode.tagName&&document.execCommand("formatBlock",!1,"p"),this.value="test",console.log(this.value))},onDrop:function(e){e.preventDefault(),this.addAllImagesFromTransfer(e.dataTransfer.items)},onDragOver:function(e){e.preventDefault()},onPaste:function(e){e.preventDefault(),e.clipboardData.types.indexOf("text/plain")>-1?this.convertMedia(e.clipboardData.getData("text/plain"))?console.log(123):document.execCommand("insertText",!1,e.clipboardData.getData("text/plain")):this.addAllImagesFromTransfer(e.clipboardData.items)},addImage:function(e){var t=new FileReader;t.onload=function(e){var t='<img src="'+e.target.result+'">';document.execCommand("insertHTML",!1,t)},t.readAsDataURL(e)},addAllImagesFromTransfer:function(e){for(var t=0;t<e.length;t++){var i=e[t].getAsFile();i.type.indexOf("image")>-1&&this.addImage(i)}},convertMedia:function(e){var t=/(?:http?s?:\/\/)?(?:www\.)?(?:vimeo\.com)\/?(.+)/g,i=/(?:http?s?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?(.+)/g;if(e.indexOf("iframe")>-1)return!1;if(i.test(e)){var n='<div class="rich-editor--iframe-container" contenteditable="false"><iframe class="rich-editor--iframe" src="https://www.youtube.com/embed/$1" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe></div><br>';return n=e.replace(i,n),document.execCommand("insertHTML",!1,n),!0}if(t.test(e)){var o='<div class="rich-editor--iframe-container" contenteditable="false"><iframe class="rich-editor--iframe" src="//player.vimeo.com/video/$1" frameborder="0" allowfullscreen></iframe></div><br>';return o=e.replace(t,o),document.execCommand("insertHTML",!1,o),!0}return!1}},props:{value:{type:String},placeholder:{type:String,default:""}},mounted:function(){void 0!==this.value&&(this.$refs.input.innerHTML=this.value)}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"rich-editor"},[t("rich-editor-formatting-helper"),this._v(" "),t("div",{ref:"input",staticClass:"rich-editor--input-field",attrs:{contenteditable:"",placeholder:this.placeholder},on:{input:this.onInput,keypress:this.onKeypress,paste:this.onPaste,drop:this.onDrop,dragover:this.onDragOver}})],1)},staticRenderFns:[]};var s=i("VU/8")(r,a,!1,function(e){i("ZD1q")},null,null);t.a=s.exports},KLAE:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KIDxnPgogIDxwYXRoIGZpbGw9IiNmZmZmZmYiIGNsYXNzPSJpY29uIiBkPSJtNTAzLjQ2NiwxMzIuMjY4bC0xMjMuNzMzLC0xMjMuNzM0Yy0xMS4zOCwtMTEuMzc5IC0yOS44NTQsLTExLjM3OSAtNDEuMjM0LDBsLTEyMy43MzIsMTIzLjczNGMtMTEuNDExLDExLjM3OSAtMTEuNDExLDI5Ljg1NCAwLDQxLjI2NWwyMC42MDIsMjAuNjAxbDEyMy43MzIsLTEyMy43MzNsODIuNDk5LDgyLjQ5OWwtMTIzLjczNCwxMjMuNzMzbDIwLjYzMiwyMC42MzNjMTEuMzgsMTEuMzc5IDI5Ljg1NCwxMS4zNzkgNDEuMjM0LDBsMTIzLjczMiwtMTIzLjczMmMxMS4zODEsLTExLjQxMiAxMS4zODEsLTI5Ljg4OCAwLjAwMiwtNDEuMjY2eiIvPgogIDxwYXRoIGZpbGw9IiNmZmZmZmYiIGNsYXNzPSJpY29uIiBkPSJtMjc2LjYzMywzMTcuODY2bC0xMjMuNzMzLDEyMy43MzRsLTgyLjQ5OSwtODIuNDk4bDEyMy43MzIsLTEyMy43MzNsLTIwLjYzMiwtMjAuNjMyYy0xMS4zNzksLTExLjM4IC0yOS44NTQsLTExLjM4IC00MS4yMzMsMGwtMTIzLjczNCwxMjMuNzMxYy0xMS4zOCwxMS40MSAtMTEuMzgsMjkuODg2IDAsNDEuMjY1bDEyMy43MzIsMTIzLjczM2MxMS4zNzksMTEuMzc5IDI5Ljg1NCwxMS4zNzkgNDEuMjMzLDBsMTIzLjczMiwtMTIzLjczM2MxMS40MSwtMTEuMzc5IDExLjQxLC0yOS44NTQgMCwtNDEuMjY1bC0yMC41OTgsLTIwLjYwMnoiLz4KICA8cGF0aCBmaWxsPSIjZmZmZmZmIiBjbGFzcz0iaWNvbiIgZD0ibTE3My41MDEsMzM4LjQ2OGMxMS40MTEsMTEuNDEgMjkuODU0LDExLjQxIDQxLjI2NiwwbDEyMy43MzEsLTEyMy43MzJjMTEuMzgsLTExLjM4IDExLjM4LC0yOS44MjQgMCwtNDEuMjAzYy0xMS40MDksLTExLjQxIC0yOS44NTQsLTExLjQxIC00MS4yNjUsMGwtMTIzLjczMiwxMjMuNzMzYy0xMS4zNzksMTEuMzc5IC0xMS4zNzksMjkuODIzIDAsNDEuMjAyeiIvPgogPC9nPgo8L3N2Zz4K"},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("7+uW"),o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("h1",{staticClass:"title"},[e._v("Minimalistic rich editor for Vue")]),e._v(" "),i("div",{staticClass:"col"},[i("rich-editor",{attrs:{placeholder:"..."},model:{value:e.html,callback:function(t){e.html=t},expression:"html"}})],1),e._v(" "),i("div",{staticClass:"col",domProps:{innerHTML:e._s(e.html)}})])},staticRenderFns:[]};var r=i("VU/8")({components:{},data:function(){return{html:""}},name:"app"},o,!1,function(e){i("uDqY")},null,null).exports,a=i("HxLN");n.a.config.productionTip=!1,n.a.use(a.a),new n.a({el:"#app",template:"<App/>",components:{App:r,VueMinRichEditor:a.a}})},ZD1q:function(e,t){},oFhI:function(e,t){},uDqY:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.64eed24c5a599eb7ff3e.js.map